(()=>{"use strict";document.addEventListener("DOMContentLoaded",(()=>{let expression="0";const display=document.getElementById("display"),buttons=document.querySelectorAll(".buttons button");function updateDisplay(){display.textContent=expression||"0"}function canAddDigitOrDot(e,t){return"."===t?!e.split(/[\+\-\*\/]/).pop().includes("."):("0"===e&&/\d/.test(t),!0)}function computeResult(expr){try{let sanitizedExpr=expr.replace(/รท/g,"/").replace(/ร/g,"*");if(!/^[0-9+\-*/.\s]+$/.test(sanitizedExpr))throw new Error("Invalid expression");const result=eval(sanitizedExpr);return isFinite(result)?Number(result).toFixed(8).replace(/\.?0+$/,""):"Error"}catch(e){return console.error("Calculation error:",e),"Error"}}function handleOperation(e,t){try{if("percent"===e){const e=t.split(/[\+\-\*\/]/).pop();return t.slice(0,-e.length)+Number(e)/100}return t}catch(e){return console.error("Operation error:",e),"Error"}}display&&buttons.length?(buttons.forEach((e=>{e.addEventListener("click",(e=>{const t=e.currentTarget.dataset.value,r=e.currentTarget.dataset.action;if("clear"===r)return expression="0",void updateDisplay();if("="===t){const e=computeResult(expression);return expression=e,void updateDisplay()}if("percent"===r)return expression=handleOperation(r,expression),void updateDisplay();/\d/.test(t)||"."===t?canAddDigitOrDot(expression,t)&&("0"===expression&&"."!==t?expression=t:expression+=t,updateDisplay()):["+","-","*","/"].includes(t)&&expression&&!/[+\-*/]$/.test(expression)&&(expression+=t,updateDisplay())}))})),document.addEventListener("keydown",(e=>{const t=e.key,r={Enter:"=",Escape:"clear","/":"/","*":"*","+":"+","-":"-",".":".","%":"percent"};if(/\d/.test(t))document.querySelector(`[data-value="${t}"]`)?.click();else if(r[t]){const e=r[t].startsWith("percent")?`[data-action="${r[t]}"]`:`[data-value="${r[t]}"],[data-action="${r[t]}"]`;document.querySelector(e)?.click()}})),updateDisplay()):console.error("Required DOM elements not found")}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZW50IjpbImltcG9ydCBcIi4uL2Nzcy9zdHlsZXMuY3NzXCI7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XHJcbiAgLy8g0KHQvtGB0YLQvtGP0L3QuNC1INC60LDQu9GM0LrRg9C70Y/RgtC+0YDQsFxyXG4gIGxldCBleHByZXNzaW9uID0gXCIwXCI7XHJcblxyXG4gIC8vIERPTS3RjdC70LXQvNC10L3RgtGLXHJcbiAgY29uc3QgZGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGlzcGxheVwiKTtcclxuICBjb25zdCBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5idXR0b25zIGJ1dHRvblwiKTtcclxuXHJcbiAgLy8g0J/RgNC+0LLQtdGA0LrQsCDQvdCwINC90LDQu9C40YfQuNC1INGN0LvQtdC80LXQvdGC0L7QslxyXG4gIGlmICghZGlzcGxheSB8fCAhYnV0dG9ucy5sZW5ndGgpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJSZXF1aXJlZCBET00gZWxlbWVudHMgbm90IGZvdW5kXCIpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLy8g0J7QsdC90L7QstC70LXQvdC40LUg0LTQuNGB0L/Qu9C10Y9cclxuICBmdW5jdGlvbiB1cGRhdGVEaXNwbGF5KCkge1xyXG4gICAgZGlzcGxheS50ZXh0Q29udGVudCA9IGV4cHJlc3Npb24gfHwgXCIwXCI7XHJcbiAgfVxyXG5cclxuICAvLyDQn9GA0L7QstC10YDQutCwINCy0L7Qt9C80L7QttC90L7RgdGC0Lgg0LTQvtCx0LDQstC70LXQvdC40Y8g0YbQuNGE0YDRiyDQuNC70Lgg0YLQvtGH0LrQuFxyXG4gIGZ1bmN0aW9uIGNhbkFkZERpZ2l0T3JEb3QoZXhwciwgc3ltYm9sKSB7XHJcbiAgICBpZiAoc3ltYm9sID09PSBcIi5cIikge1xyXG4gICAgICBjb25zdCBsYXN0TnVtYmVyID0gZXhwci5zcGxpdCgvW1xcK1xcLVxcKlxcL10vKS5wb3AoKTtcclxuICAgICAgcmV0dXJuICFsYXN0TnVtYmVyLmluY2x1ZGVzKFwiLlwiKTtcclxuICAgIH1cclxuICAgIGlmIChleHByID09PSBcIjBcIiAmJiAvXFxkLy50ZXN0KHN5bWJvbCkpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIC8vINCS0YvRh9C40YHQu9C10L3QuNC1INCy0YvRgNCw0LbQtdC90LjRjyDRgSDQv9C+0LzQvtGJ0YzRjiBldmFsXHJcbiAgZnVuY3Rpb24gY29tcHV0ZVJlc3VsdChleHByKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyDQl9Cw0LzQtdC90Y/QtdC8INGB0LjQvNCy0L7Qu9GLINC00LvRjyDQutC+0YDRgNC10LrRgtC90L7Qs9C+INCy0YvRh9C40YHQu9C10L3QuNGPXHJcbiAgICAgIGxldCBzYW5pdGl6ZWRFeHByID0gZXhwci5yZXBsYWNlKC/Dty9nLCBcIi9cIikucmVwbGFjZSgvw5cvZywgXCIqXCIpO1xyXG4gICAgICAvLyDQkdCw0LfQvtCy0LDRjyDQv9GA0L7QstC10YDQutCwINC90LAg0LHQtdC30L7Qv9Cw0YHQvdC+0YHRgtGMOiDRgNCw0LfRgNC10YjQsNC10Lwg0YLQvtC70YzQutC+INGG0LjRhNGA0YssINC+0L/QtdGA0LDRgtC+0YDRiyDQuCDRgtC+0YfQutGDXHJcbiAgICAgIGlmICghL15bMC05K1xcLSovLlxcc10rJC8udGVzdChzYW5pdGl6ZWRFeHByKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZXhwcmVzc2lvblwiKTtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCByZXN1bHQgPSBldmFsKHNhbml0aXplZEV4cHIpO1xyXG4gICAgICBpZiAoIWlzRmluaXRlKHJlc3VsdCkpIHJldHVybiBcIkVycm9yXCI7XHJcbiAgICAgIHJldHVybiBOdW1iZXIocmVzdWx0KVxyXG4gICAgICAgIC50b0ZpeGVkKDgpXHJcbiAgICAgICAgLnJlcGxhY2UoL1xcLj8wKyQvLCBcIlwiKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkNhbGN1bGF0aW9uIGVycm9yOlwiLCBlKTtcclxuICAgICAgcmV0dXJuIFwiRXJyb3JcIjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vINCe0LHRgNCw0LHQvtGC0LrQsCDQvtC/0LXRgNCw0YbQuNC5XHJcbiAgZnVuY3Rpb24gaGFuZGxlT3BlcmF0aW9uKGFjdGlvbiwgZXhwcikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKGFjdGlvbiA9PT0gXCJwZXJjZW50XCIpIHtcclxuICAgICAgICBjb25zdCBsYXN0TnVtYmVyID0gZXhwci5zcGxpdCgvW1xcK1xcLVxcKlxcL10vKS5wb3AoKTtcclxuICAgICAgICByZXR1cm4gZXhwci5zbGljZSgwLCAtbGFzdE51bWJlci5sZW5ndGgpICsgTnVtYmVyKGxhc3ROdW1iZXIpIC8gMTAwO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBleHByO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiT3BlcmF0aW9uIGVycm9yOlwiLCBlKTtcclxuICAgICAgcmV0dXJuIFwiRXJyb3JcIjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vINCe0LHRgNCw0LHQvtGC0YfQuNC6INC60L3QvtC/0L7QulxyXG4gIGJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XHJcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgICBjb25zdCB2YWwgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQudmFsdWU7XHJcbiAgICAgIGNvbnN0IGFjdGlvbiA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5hY3Rpb247XHJcblxyXG4gICAgICAvLyDQntGH0LjRgdGC0LrQsFxyXG4gICAgICBpZiAoYWN0aW9uID09PSBcImNsZWFyXCIpIHtcclxuICAgICAgICBleHByZXNzaW9uID0gXCIwXCI7XHJcbiAgICAgICAgdXBkYXRlRGlzcGxheSgpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g0JLRi9GH0LjRgdC70LXQvdC40LVcclxuICAgICAgaWYgKHZhbCA9PT0gXCI9XCIpIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBjb21wdXRlUmVzdWx0KGV4cHJlc3Npb24pO1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSByZXN1bHQ7XHJcbiAgICAgICAgdXBkYXRlRGlzcGxheSgpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g0J/RgNC+0YbQtdC90YJcclxuICAgICAgaWYgKGFjdGlvbiA9PT0gXCJwZXJjZW50XCIpIHtcclxuICAgICAgICBleHByZXNzaW9uID0gaGFuZGxlT3BlcmF0aW9uKGFjdGlvbiwgZXhwcmVzc2lvbik7XHJcbiAgICAgICAgdXBkYXRlRGlzcGxheSgpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g0KbQuNGE0YDRiyDQuCDRgtC+0YfQutCwXHJcbiAgICAgIGlmICgvXFxkLy50ZXN0KHZhbCkgfHwgdmFsID09PSBcIi5cIikge1xyXG4gICAgICAgIGlmIChjYW5BZGREaWdpdE9yRG90KGV4cHJlc3Npb24sIHZhbCkpIHtcclxuICAgICAgICAgIGlmIChleHByZXNzaW9uID09PSBcIjBcIiAmJiB2YWwgIT09IFwiLlwiKSB7XHJcbiAgICAgICAgICAgIGV4cHJlc3Npb24gPSB2YWw7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBleHByZXNzaW9uICs9IHZhbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHVwZGF0ZURpc3BsYXkoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDQntC/0LXRgNCw0YLQvtGA0YtcclxuICAgICAgaWYgKFtcIitcIiwgXCItXCIsIFwiKlwiLCBcIi9cIl0uaW5jbHVkZXModmFsKSkge1xyXG4gICAgICAgIGlmIChleHByZXNzaW9uICYmICEvWytcXC0qL10kLy50ZXN0KGV4cHJlc3Npb24pKSB7XHJcbiAgICAgICAgICBleHByZXNzaW9uICs9IHZhbDtcclxuICAgICAgICAgIHVwZGF0ZURpc3BsYXkoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgLy8g0JrQu9Cw0LLQuNCw0YLRg9GA0L3Ri9C5INCy0LLQvtC0XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2ZW50KSA9PiB7XHJcbiAgICBjb25zdCBrZXkgPSBldmVudC5rZXk7XHJcbiAgICBjb25zdCBrZXlNYXAgPSB7XHJcbiAgICAgIEVudGVyOiBcIj1cIixcclxuICAgICAgRXNjYXBlOiBcImNsZWFyXCIsXHJcbiAgICAgIFwiL1wiOiBcIi9cIixcclxuICAgICAgXCIqXCI6IFwiKlwiLFxyXG4gICAgICBcIitcIjogXCIrXCIsXHJcbiAgICAgIFwiLVwiOiBcIi1cIixcclxuICAgICAgXCIuXCI6IFwiLlwiLFxyXG4gICAgICBcIiVcIjogXCJwZXJjZW50XCIsXHJcbiAgICB9O1xyXG4gICAgaWYgKC9cXGQvLnRlc3Qoa2V5KSkge1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS12YWx1ZT1cIiR7a2V5fVwiXWApPy5jbGljaygpO1xyXG4gICAgfSBlbHNlIGlmIChrZXlNYXBba2V5XSkge1xyXG4gICAgICBjb25zdCBzZWxlY3RvciA9IGtleU1hcFtrZXldLnN0YXJ0c1dpdGgoXCJwZXJjZW50XCIpXHJcbiAgICAgICAgPyBgW2RhdGEtYWN0aW9uPVwiJHtrZXlNYXBba2V5XX1cIl1gXHJcbiAgICAgICAgOiBgW2RhdGEtdmFsdWU9XCIke2tleU1hcFtrZXldfVwiXSxbZGF0YS1hY3Rpb249XCIke2tleU1hcFtrZXldfVwiXWA7XHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpPy5jbGljaygpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvLyDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRj1xyXG4gIHVwZGF0ZURpc3BsYXkoKTtcclxufSk7XHJcbiJdLCJuYW1lcyI6WyJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJleHByZXNzaW9uIiwiZGlzcGxheSIsImdldEVsZW1lbnRCeUlkIiwiYnV0dG9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ1cGRhdGVEaXNwbGF5IiwidGV4dENvbnRlbnQiLCJjYW5BZGREaWdpdE9yRG90IiwiZXhwciIsInN5bWJvbCIsInNwbGl0IiwicG9wIiwiaW5jbHVkZXMiLCJ0ZXN0IiwiY29tcHV0ZVJlc3VsdCIsInNhbml0aXplZEV4cHIiLCJyZXBsYWNlIiwiRXJyb3IiLCJyZXN1bHQiLCJldmFsIiwiaXNGaW5pdGUiLCJOdW1iZXIiLCJ0b0ZpeGVkIiwiZSIsImNvbnNvbGUiLCJlcnJvciIsImhhbmRsZU9wZXJhdGlvbiIsImFjdGlvbiIsImxhc3ROdW1iZXIiLCJzbGljZSIsImxlbmd0aCIsImZvckVhY2giLCJidXR0b24iLCJldmVudCIsInZhbCIsImN1cnJlbnRUYXJnZXQiLCJkYXRhc2V0IiwidmFsdWUiLCJrZXkiLCJrZXlNYXAiLCJFbnRlciIsIkVzY2FwZSIsInF1ZXJ5U2VsZWN0b3IiLCJjbGljayIsInNlbGVjdG9yIiwic3RhcnRzV2l0aCJdLCJzb3VyY2VSb290IjoiIn0=